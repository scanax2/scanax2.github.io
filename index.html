<!doctype html>
<html>
  <head>    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=B612" media="none" onload="if (this.media != 'all') this.media='all';" /> <!-- this is a trick to load CSS asynchronously. -->

    <!-- CDN for jQuery and select2 -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
            integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
            crossorigin="anonymous"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/js/select2.min.js"></script>    

    <script src="https://cdn.jsdelivr.net/combine/npm/tone@14.7.58,npm/@magenta/music@1.23.1/es6/core.js,npm/focus-visible@5,npm/html-midi-player@1.5.0"></script>
    


    <script type="text/javaScript" src="./app.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="playerStyle.css">

    <title>Game music generator</title>
  </head>
  <body onload="main()">
    <label for="avatar">Choose a midi:</label>
    <input type="file" id="input" name="avatar" accept="audio/midi">

    <label for="visualizerTypes">Choose a visualizer:</label>
    <select name="visualizerTypes" id="selectedVisualizer">
      <option value="piano-roll">piano-roll</option>
      <option value="waterfall">waterfall</option>
      <option value="staff">staff</option>
    </select>

    <h2>Custom player and visualizer style</h2>
    <section id="section3">
      <midi-visualizer id="visualizer"
        src="https://cdn.jsdelivr.net/gh/cifkao/html-midi-player@2b12128/jazz.mid">
      </midi-visualizer>
      <midi-player id="player"
        src="https://cdn.jsdelivr.net/gh/cifkao/html-midi-player@2b12128/jazz.mid"
        sound-font visualizer="#section3 midi-visualizer">
      </midi-player>
    </section>

    <div class="modelInput">
      <h2>Model input</h2>
      <table>
        <tr>
          <td>
            <label for="tempoType">Tempo:</label>
          </td>
          <td>
            <select name="tempoType" id="selectedTempo">
            <option value="Fast">Fast</option>
            <option value="Normal">Normal</option>
            <option value="Slow">Slow</option>
            </select>
          </td>
        </tr>
        <tr>
          <td>
            <label for="soundsRange">Sounds range:</label>
          </td>
          <td>
            <select name="soundsRange" id="selectedSoundsRange">
            <option value="High">High</option>
            <option value="Normal">Normal</option>
            <option value="Low">Low</option>
            </select>
          </td>
        </tr>
        <tr>
          <td>
            <label for="volumeLevel">Volume level:</label>
          </td>
          <td>
            <select name="volumeLevel" id="selectedVolumeLevel">
              <option value="High">High</option>
              <option value="Normal">Normal</option>
              <option value="Low">Low</option>
            </select>
          </td>
        </tr>
      </table>
      <button onclick="getMIDIRequest()">Send MIDI request</button>
      <br>
      <label id="requestLog"></label>
    </div>

    <div id="beepboxEditorContainer">
        <noscript>
            Sorry, JummBox requires a JavaScript-enabled browser.
        </noscript>
    </div>

    <script type="text/babel" src="beepbox_editor.js"></script>

    <button onclick="test()">Test update EDITOR</button>

  </body>
</html>